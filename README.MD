# ğŸ“¬ MailSweep - Gmail Inbox Cleanup Made Easy

> A smart Gmail assistant that scans your inbox, identifies subscriptions, and helps you bulk unsubscribe or delete emails with a single click. 

ğŸŸ¢ Live at: https://mailsweep.xyz


## ğŸš€ **What MailSweep Does**

**MailSweep** is a full-stack productivity app that gives users control over a cluttered inbox by detecting subscriptions and enabling instant clean-up.

### **ğŸ’¡ The Problem It Solves**
- Gmail inboxes are often flooded with unwanted marketing emails and subscriptions
- Unsubscribing manually is slow and inconsistent across different senders
- Gmail doesn't provide a good interface to bulk unsubscribe by sender

### **ğŸ¯ The Solution**
- **Sender Clustering:** Groups emails by sender to simplify decisions

- **Smart Scan Engine:** Detects and tracks subscriptions automatically

- **Bulk Delete API:** Instantly removes all emails from selected senders

- **Safe Unsubscribe:** Marks sender as unsubscribed without triggering links

- **Session Persistence:** Resumes scans where you left off

---

## ğŸŒŸ **Key Features**

### **ğŸ§µ Simple Email Parsing**
```python
"From: Amazon Deals" â†’ 340 emails found â†’ Bulk Delete or Unsubscribe
"From: Newsletter Weekly" â†’ Unsubscribe link detected
```

### **âš™ï¸ Progressive Gmail Scanning**
```javascript
Batch 1: 100 threads
Batch 2: 100 threads
...
```
- Fetches Gmail threads in batches to avoid rate limits
### **ğŸ’¾ Resume Scan from Last Session**


```json
{
  "lastScanTimestamp": "1750614941"
}
```
- Stored as Unix timestamp for simplicity, easy comparison, and timezone consistency (always UTC)
---

## ğŸ› ï¸ **Tech Stack**

### **Frontend**
- **React.js** - Component-based UI with state hooks
- **Bootstrap** - Responsive layout with prebuilt components
- **Axios** â€“ Handles Gmail API calls and backend communication

### **Backend**
- **Express.js** - Lightweight, fast server framework
- **Passport.js** - Secure Google OAuth2 authentication
- **Gmail API** â€“ Email reading, deletion, and metadata fetching
- **Supabase** â€“ PostgreSQL storage with RESTful access

---

## ğŸ“ **Project Structure**

### **ğŸ¨ Frontend (`frontend/`)**
```
public/                 # Static assets like images
src/
â”œâ”€â”€ components/         # React components (buttons, cards, modals, etc.)
â”œâ”€â”€ css/                # Stylesheets and custom CSS files
â”œâ”€â”€ App.jsx             # Main React app component with routing
â”œâ”€â”€ Home.jsx            # Homepage UI and inbox summary
â”œâ”€â”€ Login.jsx           # Login page with Google OAuth
â”œâ”€â”€ main.jsx            # React entry point and render logic
â”œâ”€â”€ PrivacyPolicy.jsx   # Privacy policy page component
â”œâ”€â”€ TermsOfService.jsx  # Terms of service page component

```

### **ğŸ§  Backend (`backend/`)**
```
config/                 # Configuration files (e.g., DB, OAuth)
routes/
â”œâ”€â”€ auth.js             # Authentication routes and logic
â”œâ”€â”€ gmail.js            # Gmail API integration and inbox scanning
â”œâ”€â”€ mailcounter.js      # Counting emails per sender and tracking stats
â”œâ”€â”€ picture.js          # Handling sender favicon or image fetching
â”œâ”€â”€ subscriptions.js    # Managing subscription detection and unsubscribes
utils/
â”œâ”€â”€ index.js            # Utility functions used throughout backend

```

---

## ğŸ”„ **How It Works**

### **1. Login via Google OAuth2**
```
Click â€œLogin with Googleâ€
    â†“
Authorize read/delete access to Gmail
    â†“
Redirect to main page with Cookie
```

### **2. Inbox Scan Begins**
```
Fetches email threads using Gmail API
    â†“
Extracts sender metadata and unsubscribe links
    â†“
Updates visual dashboard in real time
```

### **3. User Takes Action**
```python
Click â€œUnsubscribeâ€ â†’ updates DB to ignore future emails
    â†“
Click â€œDelete Allâ€ â†’ uses Gmail batchDelete API
    â†“
Optionally rescan inbox anytime to fetch new emails since last full scan.
```

---

## ğŸ“Š **API Endpoints**

### **Core Endpoints**
```javascript
GET /auth/google
// Redirect to Google login

GET /gmail
// Triggers Gmail inbox scan

PATCH /unsub
// Mark sender as unsubscribed in DB

DELETE /delete
// Bulk delete threads by sender

```

### **Example API Usage**
```javascript
router.patch('/unsub', async (req, res) => { 
  const email_id = req.body.email_id;
  await db.query(`UPDATE subscriptions SET is_unsubscribed = $1 WHERE id = $2`, 
    [true, email_id]
  );
  res.status(200).json("Successfully updated is_unsubscribed")
});

```

---

## ğŸ”® **Future Enhancements**
### **Technical Improvements:**
- **Pagination & Lazy Loading** â€“ Improve performance by loading emails in chunks with page navigation instead of rendering all at once (low priority for now) 
### **Summary & Analytics Dashboard** 
- Show users total megabytes of inbox space saved
- Number of emails deleted
- Number of subscriptions cancelled
### **Enhanced Email Card Details:** 
- Show when the sender first started emailing (e.g., â€œFirst seen in 2024â€)
- Display the date of the most recent email from that sender
- Add category tags (e.g., Social Media, Food, Education, etc.)
- Show how many times the user has starred this senderâ€™s emails

---
## ğŸ‘¨â€ğŸ’» **About**

### **By:** Galileo Kim and Austin Bao  
### **Status:** Actively maintained & hosted at https://mailsweep.xyz



